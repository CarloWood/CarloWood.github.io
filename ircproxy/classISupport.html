<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML LANG="en-us">
 
<HEAD>
<META name="Author" content="Carlo Wood">
<META name="description" content="IRC proxy">
<META name="keywords" content="IRC, proxy, bnc, security, protection">
<META http-equiv="content-type" content="text/html; charset=iso-8859-1">
<TITLE>ircproxy documentation</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="main.css" REL="stylesheet" TYPE="text/css">
</HEAD>

<BODY>

<TABLE class="header" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TD WIDTH=120><IMG SRC="images/ircproxy.png" BORDER=0></TD>
<TD VALIGN=center ALIGN=center BGCOLOR="#0A0607"><FONT size=+4 color="#ffffff"><B>&nbsp;ircproxy</B>&nbsp;</FONT>
<FONT size=+3 color="#ffffff">The&nbsp;Ultimate&nbsp;Cyborg</FONT></TD>
</TR>
</TABLE>

<DIV class="normal">
<hr>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ISupport Class Reference</h1><!-- doxytag: class="ISupport" --><code>#include &lt;<a class="el" href="ISupport_8h-source.html">ISupport.h</a>&gt;</code>
<p>

<p>
<a href="classISupport-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Stores the ISUPPORT reply (005) key/value pairs of the network. 
<p>Definition at line <a class="el" href="ISupport_8h-source.html#l00026">26</a> of file <a class="el" href="ISupport_8h-source.html">ISupport.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::map&lt; std::string, <br>
std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classISupport.html#b4450b5d4b5bbcb330d7e608eb00f4da">key_value_map_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type of M_key_value_map.  <a href="#b4450b5d4b5bbcb330d7e608eb00f4da"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classISupport.html#e7ca86901c14057a6017eaf46fad8dd2">begin</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called when a new connection is initiated (when receiving numeric 004).  <a href="#e7ca86901c14057a6017eaf46fad8dd2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classISupport.html#1c89ab687f506633da3d5f11d702cea2">end</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called as soon as possible after the last 005 message is received.  <a href="#1c89ab687f506633da3d5f11d702cea2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classISupport.html#9c149cbfa5e0917fa4200447f16f3916">add</a> (std::string const &amp;param)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called for every "key=value" pair in each 005 message.  <a href="#9c149cbfa5e0917fa4200447f16f3916"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classISupport.html#5ff7aad9c2e1cd6f44b4644c147c350e">get</a> (std::string const &amp;key, std::string &amp;value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If <em>key</em> exists, returns true and writes the corresponding value to <em>value</em>, otherwise returns false.  <a href="#5ff7aad9c2e1cd6f44b4644c147c350e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classServerConnection.html">ServerConnection</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classISupport.html#fec6b25c6d78c80750d282aaca253e15">M_server_connection</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reference to the underlying server connection.  <a href="#fec6b25c6d78c80750d282aaca253e15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classISupport.html#b4450b5d4b5bbcb330d7e608eb00f4da">key_value_map_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classISupport.html#6092c2620065255a734b6b73f75f8d75">M_key_value_map</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The map storing all numeric 005 key/value pairs.  <a href="#6092c2620065255a734b6b73f75f8d75"></a><br></td></tr>
</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="b4450b5d4b5bbcb330d7e608eb00f4da"></a><!-- doxytag: member="ISupport::key_value_map_type" ref="b4450b5d4b5bbcb330d7e608eb00f4da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, std::string&gt; <a class="el" href="classISupport.html#b4450b5d4b5bbcb330d7e608eb00f4da">ISupport::key_value_map_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The type of M_key_value_map. 
<p>

<p>Definition at line <a class="el" href="ISupport_8h-source.html#l00029">29</a> of file <a class="el" href="ISupport_8h-source.html">ISupport.h</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e7ca86901c14057a6017eaf46fad8dd2"></a><!-- doxytag: member="ISupport::begin" ref="e7ca86901c14057a6017eaf46fad8dd2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISupport::begin           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called when a new connection is initiated (when receiving numeric 004). 
<p>

<p>Definition at line <a class="el" href="ISupport_8cc-source.html#l00024">24</a> of file <a class="el" href="ISupport_8cc-source.html">ISupport.cc</a>.</p>

<p>References <a class="el" href="ISupport_8h-source.html#l00033">M_key_value_map</a>.</p>

<p>Referenced by <a class="el" href="ServerSession_8cc-source.html#l00032">ServerSession::new_message_received()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00025"></a>00025 {
<a name="l00026"></a>00026   <a class="code" href="classISupport.html#6092c2620065255a734b6b73f75f8d75" title="The map storing all numeric 005 key/value pairs.">M_key_value_map</a>.clear();
<a name="l00027"></a>00027 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1c89ab687f506633da3d5f11d702cea2"></a><!-- doxytag: member="ISupport::end" ref="1c89ab687f506633da3d5f11d702cea2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISupport::end           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called as soon as possible after the last 005 message is received. 
<p>

<p>Definition at line <a class="el" href="ISupport_8cc-source.html#l00029">29</a> of file <a class="el" href="ISupport_8cc-source.html">ISupport.cc</a>.</p>

<p>References <a class="el" href="ServerSession_8cc-source.html#l00389">ServerSession::found_network_name()</a>, <a class="el" href="ISupport_8h-source.html#l00032">M_server_connection</a>, and <a class="el" href="ServerConnection_8h-source.html#l00153">ServerConnection::server_session()</a>.</p>

<p>Referenced by <a class="el" href="ServerSession_8cc-source.html#l00032">ServerSession::new_message_received()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00030"></a>00030 {
<a name="l00031"></a>00031   <a class="code" href="classISupport.html#fec6b25c6d78c80750d282aaca253e15" title="Reference to the underlying server connection.">M_server_connection</a>.<a class="code" href="classServerConnection.html#832a5728134205d1bcd2ef367b136c04" title="Return the ServerSession.">server_session</a>().<a class="code" href="classServerSession.html#1b60f26b5d5e97d761ecbd7a4a59bb98" title="Called when the name of the Network is known (after numeric 005).">found_network_name</a>();
<a name="l00032"></a>00032 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9c149cbfa5e0917fa4200447f16f3916"></a><!-- doxytag: member="ISupport::add" ref="9c149cbfa5e0917fa4200447f16f3916" args="(std::string const &amp;param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISupport::add           </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>param</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is called for every "key=value" pair in each 005 message. 
<p>

<p>Definition at line <a class="el" href="ISupport_8cc-source.html#l00034">34</a> of file <a class="el" href="ISupport_8cc-source.html">ISupport.cc</a>.</p>

<p>References <a class="el" href="debug_8h-source.html#l00214">DoutEntering</a>, and <a class="el" href="ISupport_8h-source.html#l00033">M_key_value_map</a>.</p>

<p>Referenced by <a class="el" href="ServerSession_8cc-source.html#l00032">ServerSession::new_message_received()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00035"></a>00035 {
<a name="l00036"></a>00036   <a class="code" href="debug_8h.html#3dc350a548c074386c3ec0271d16a7a8" title="Debugging macro.">DoutEntering</a>(dc::debug, <span class="stringliteral">"ISupport::add("</span> &lt;&lt; param &lt;&lt; <span class="stringliteral">")"</span>);
<a name="l00037"></a>00037   std::string::size_type pos = param.find(<span class="charliteral">'='</span>);
<a name="l00038"></a>00038   <span class="keywordflow">if</span> (pos == std::string::npos)
<a name="l00039"></a>00039     <a class="code" href="classISupport.html#6092c2620065255a734b6b73f75f8d75" title="The map storing all numeric 005 key/value pairs.">M_key_value_map</a>.insert(key_value_map_type::value_type(param, std::string()));
<a name="l00040"></a>00040   <span class="keywordflow">else</span>
<a name="l00041"></a>00041     <a class="code" href="classISupport.html#6092c2620065255a734b6b73f75f8d75" title="The map storing all numeric 005 key/value pairs.">M_key_value_map</a>.insert(key_value_map_type::value_type(param.substr(0, pos), param.substr(pos + 1)));
<a name="l00042"></a>00042 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5ff7aad9c2e1cd6f44b4644c147c350e"></a><!-- doxytag: member="ISupport::get" ref="5ff7aad9c2e1cd6f44b4644c147c350e" args="(std::string const &amp;key, std::string &amp;value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ISupport::get           </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If <em>key</em> exists, returns true and writes the corresponding value to <em>value</em>, otherwise returns false. 
<p>

<p>Definition at line <a class="el" href="ISupport_8cc-source.html#l00044">44</a> of file <a class="el" href="ISupport_8cc-source.html">ISupport.cc</a>.</p>

<p>References <a class="el" href="ISupport_8h-source.html#l00033">M_key_value_map</a>.</p>

<p>Referenced by <a class="el" href="ServerSession_8cc-source.html#l00462">ServerSession::detected_network()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00045"></a>00045 {
<a name="l00046"></a>00046   key_value_map_type::const_iterator iter = <a class="code" href="classISupport.html#6092c2620065255a734b6b73f75f8d75" title="The map storing all numeric 005 key/value pairs.">M_key_value_map</a>.find(key);
<a name="l00047"></a>00047   <span class="keywordflow">if</span> (iter == <a class="code" href="classISupport.html#6092c2620065255a734b6b73f75f8d75" title="The map storing all numeric 005 key/value pairs.">M_key_value_map</a>.end())
<a name="l00048"></a>00048     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00049"></a>00049   value = iter-&gt;second;
<a name="l00050"></a>00050   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00051"></a>00051 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="fec6b25c6d78c80750d282aaca253e15"></a><!-- doxytag: member="ISupport::M_server_connection" ref="fec6b25c6d78c80750d282aaca253e15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classServerConnection.html">ServerConnection</a>&amp; <a class="el" href="classISupport.html#fec6b25c6d78c80750d282aaca253e15">ISupport::M_server_connection</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reference to the underlying server connection. 
<p>

<p>Definition at line <a class="el" href="ISupport_8h-source.html#l00032">32</a> of file <a class="el" href="ISupport_8h-source.html">ISupport.h</a>.</p>

<p>Referenced by <a class="el" href="ISupport_8cc-source.html#l00029">end()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6092c2620065255a734b6b73f75f8d75"></a><!-- doxytag: member="ISupport::M_key_value_map" ref="6092c2620065255a734b6b73f75f8d75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classISupport.html#b4450b5d4b5bbcb330d7e608eb00f4da">key_value_map_type</a> <a class="el" href="classISupport.html#6092c2620065255a734b6b73f75f8d75">ISupport::M_key_value_map</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The map storing all numeric 005 key/value pairs. 
<p>

<p>Definition at line <a class="el" href="ISupport_8h-source.html#l00033">33</a> of file <a class="el" href="ISupport_8h-source.html">ISupport.h</a>.</p>

<p>Referenced by <a class="el" href="ISupport_8cc-source.html#l00034">add()</a>, <a class="el" href="ISupport_8cc-source.html#l00024">begin()</a>, and <a class="el" href="ISupport_8cc-source.html#l00044">get()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ISupport_8h-source.html">ISupport.h</a><li><a class="el" href="ISupport_8cc-source.html">ISupport.cc</a></ul>
</div>
<hr>

<TABLE WIDTH=100% BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TH ALIGN=left BGCOLOR="#e8feff"><ADDRESS>Copyright &copy; 2005-2007 Carlo Wood.&nbsp; All rights reserved.</ADDRESS></TH>
</TR>
</TABLE>

</DIV>
</BODY>
</HTML>

