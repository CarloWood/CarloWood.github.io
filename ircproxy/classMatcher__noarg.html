<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML LANG="en-us">
 
<HEAD>
<META name="Author" content="Carlo Wood">
<META name="description" content="IRC proxy">
<META name="keywords" content="IRC, proxy, bnc, security, protection">
<META http-equiv="content-type" content="text/html; charset=iso-8859-1">
<TITLE>ircproxy documentation</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="main.css" REL="stylesheet" TYPE="text/css">
</HEAD>

<BODY>

<TABLE class="header" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TD WIDTH=120><IMG SRC="images/ircproxy.png" BORDER=0></TD>
<TD VALIGN=center ALIGN=center BGCOLOR="#0A0607"><FONT size=+4 color="#ffffff"><B>&nbsp;ircproxy</B>&nbsp;</FONT>
<FONT size=+3 color="#ffffff">The&nbsp;Ultimate&nbsp;Cyborg</FONT></TD>
</TR>
</TABLE>

<DIV class="normal">
<hr>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Matcher_noarg Class Reference</h1><!-- doxytag: class="Matcher_noarg" --><!-- doxytag: inherits="Matcher" --><code>#include &lt;<a class="el" href="Matcher_8h-source.html">Matcher.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Matcher_noarg:</div>
<div class="dynsection">

<p><center><img src="classMatcher__noarg.png" usemap="#Matcher_noarg_map" border="0" alt=""></center>
<map name="Matcher_noarg_map">
<area href="classMatcher.html" alt="Matcher" shape="rect" coords="0,0,99,24">
</map>
</div>

<p>
<a href="classMatcher__noarg-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A <a class="el" href="classMatcher.html" title="Matcher base class.">Matcher</a> base class for matchers that do not take an extra argument. 
<p>Definition at line <a class="el" href="Matcher_8h-source.html#l00110">110</a> of file <a class="el" href="Matcher_8h-source.html">Matcher.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatcher__noarg.html#3fe222d046dadadf043d1a84676a1a37">Matcher_noarg</a> (int param, <a class="el" href="Matcher_8h.html#90f3670ed6ab047285d10701e29dbafd">match0_type</a> mt, bool single_param)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a <a class="el" href="classMatcher__noarg.html" title="A Matcher base class for matchers that do not take an extra argument.">Matcher_noarg</a> object of type <em>mt</em> that will match against parameter <em>param</em> (and on, if <em>single_param</em> is false).  <a href="#3fe222d046dadadf043d1a84676a1a37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatcher__noarg.html#2071b76407808245142c8d50356b28e3">print_type_on</a> (std::ostream &amp;os) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For debugging purposes. Write the class name to <em>os</em>.  <a href="#2071b76407808245142c8d50356b28e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatcher__noarg.html#6e060e169d417bba29ef1c9f9ba0c8a4">print_on</a> (std::ostream &amp;os) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For debugging purposes. Write the match type to <em>os</em>.  <a href="#6e060e169d417bba29ef1c9f9ba0c8a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatcher__noarg.html#efe7fb9e674e50af1dc62ff676249424">sort_value</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation of pure virtual function <a class="el" href="classMatcher.html#ac3e419a2737bddc691d68e34728d397" title="Returns an indication of the match algorithm speed (smaller is faster).">Matcher::sort_value()</a>.  <a href="#efe7fb9e674e50af1dc62ff676249424"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatcher__noarg.html#3db7cd192acee2b6d808125a26a69b53">match_impl</a> (<a class="el" href="classServerSession.html">ServerSession</a> const &amp;server_session, char const *start, size_t len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Match implementation interface filled in by derived classes.  <a href="#3db7cd192acee2b6d808125a26a69b53"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="Matcher_8h.html#90f3670ed6ab047285d10701e29dbafd">match0_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatcher__noarg.html#11c61eedcb0b644f1d2611ff7a7bcb8f">M_mt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The match type.  <a href="#11c61eedcb0b644f1d2611ff7a7bcb8f"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="3fe222d046dadadf043d1a84676a1a37"></a><!-- doxytag: member="Matcher_noarg::Matcher_noarg" ref="3fe222d046dadadf043d1a84676a1a37" args="(int param, match0_type mt, bool single_param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Matcher_noarg::Matcher_noarg           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Matcher_8h.html#90f3670ed6ab047285d10701e29dbafd">match0_type</a>&nbsp;</td>
          <td class="paramname"> <em>mt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>single_param</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct a <a class="el" href="classMatcher__noarg.html" title="A Matcher base class for matchers that do not take an extra argument.">Matcher_noarg</a> object of type <em>mt</em> that will match against parameter <em>param</em> (and on, if <em>single_param</em> is false). 
<p>

<p>Definition at line <a class="el" href="Matcher_8h-source.html#l00116">116</a> of file <a class="el" href="Matcher_8h-source.html">Matcher.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00116"></a>00116 : <a class="code" href="classMatcher.html#1bfb5bca612b7634e17d099ba9fd9a53" title="Construct a Matcher that matches against parameter param, including all following...">Matcher</a>(param, single_param), <a class="code" href="classMatcher__noarg.html#11c61eedcb0b644f1d2611ff7a7bcb8f" title="The match type.">M_mt</a>(mt) { }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="2071b76407808245142c8d50356b28e3"></a><!-- doxytag: member="Matcher_noarg::print_type_on" ref="2071b76407808245142c8d50356b28e3" args="(std::ostream &amp;os) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Matcher_noarg::print_type_on           </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For debugging purposes. Write the class name to <em>os</em>. 
<p>

<p>Implements <a class="el" href="classMatcher.html">Matcher</a>.</p>

<p>Definition at line <a class="el" href="Matcher_8h-source.html#l00120">120</a> of file <a class="el" href="Matcher_8h-source.html">Matcher.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00120"></a>00120 { os &lt;&lt; <span class="stringliteral">"Matcher_noarg"</span>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="6e060e169d417bba29ef1c9f9ba0c8a4"></a><!-- doxytag: member="Matcher_noarg::print_on" ref="6e060e169d417bba29ef1c9f9ba0c8a4" args="(std::ostream &amp;os) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Matcher_noarg::print_on           </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For debugging purposes. Write the match type to <em>os</em>. 
<p>

<p>Reimplemented from <a class="el" href="classMatcher.html#bb8e298872b6d3dcde8594c088e38c38">Matcher</a>.</p>

<p>Definition at line <a class="el" href="Matcher_8h-source.html#l00122">122</a> of file <a class="el" href="Matcher_8h-source.html">Matcher.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00122"></a>00122 { os &lt;&lt; <span class="stringliteral">"mt:"</span> &lt;&lt; <a class="code" href="classMatcher__noarg.html#11c61eedcb0b644f1d2611ff7a7bcb8f" title="The match type.">M_mt</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3db7cd192acee2b6d808125a26a69b53"></a><!-- doxytag: member="Matcher_noarg::match_impl" ref="3db7cd192acee2b6d808125a26a69b53" args="(ServerSession const &amp;server_session, char const *start, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Matcher_noarg::match_impl           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classServerSession.html">ServerSession</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>server_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Match implementation interface filled in by derived classes. 
<p>

<p>Implements <a class="el" href="classMatcher.html#c98abbb8226eff852aa2935dbe25bcf4">Matcher</a>.</p>

<p>Definition at line <a class="el" href="Matcher_8cc-source.html#l00027">27</a> of file <a class="el" href="Matcher_8cc-source.html">Matcher.cc</a>.</p>

<p>References <a class="el" href="NickPair_8h-source.html#l00047">NickPair::in_nick()</a>, <a class="el" href="is__channel_8h-source.html#l00027">is_channel()</a>, <a class="el" href="Matcher_8h-source.html#l00112">M_mt</a>, <a class="el" href="debug_8cc-source.html#l00046">debug::channels::dc::matcher</a>, <a class="el" href="ServerSession_8h-source.html#l00117">ServerSession::nicks()</a>, <a class="el" href="ServerConnection_8h-source.html#l00144">ServerConnection::server()</a>, and <a class="el" href="ServerSession_8h-source.html#l00178">ServerSession::server_connection()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00028"></a>00028 {
<a name="l00029"></a>00029   <span class="keywordflow">switch</span>(<a class="code" href="classMatcher__noarg.html#11c61eedcb0b644f1d2611ff7a7bcb8f" title="The match type.">M_mt</a>)
<a name="l00030"></a>00030   {
<a name="l00031"></a>00031     <span class="keywordflow">case</span> anystring_mt:
<a name="l00032"></a>00032       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00033"></a>00033     <span class="keywordflow">case</span> nonemptystring_mt:
<a name="l00034"></a>00034       <span class="keywordflow">return</span> len &gt; 0;
<a name="l00035"></a>00035     <span class="keywordflow">case</span> anyserver_mt:
<a name="l00036"></a>00036     {
<a name="l00037"></a>00037       <span class="keywordflow">for</span> (<span class="keywordtype">char</span> <span class="keyword">const</span>* p = start; p &lt; start + len; ++p)
<a name="l00038"></a>00038         <span class="keywordflow">if</span> (*p == <span class="charliteral">'.'</span>)
<a name="l00039"></a>00039           <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00040"></a>00040       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00041"></a>00041     }
<a name="l00042"></a>00042     <span class="keywordflow">case</span> localserver_mt:
<a name="l00043"></a>00043     {
<a name="l00044"></a>00044       Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#053297a768663dfe29f345bc88d70b3e" title="This debug channel is used for matcher tracking.">dc::matcher</a>|continued_cf, <span class="stringliteral">"localserver_mt: get_irc_name() = \""</span> &lt;&lt;
<a name="l00045"></a>00045           server_session.server_connection().server()-&gt;get_irc_name() &lt;&lt; <span class="stringliteral">"\"; input = \""</span> &lt;&lt; buf2str(start, len) &lt;&lt; <span class="stringliteral">"\", "</span>);
<a name="l00046"></a>00046       <span class="keywordtype">bool</span> result = server_session.server_connection().server()-&gt;get_irc_name().compare(0, std::string::npos, start, len) == 0;
<a name="l00047"></a>00047       Dout(dc::finish, <span class="stringliteral">"returning "</span> &lt;&lt; (result ? <span class="stringliteral">"true"</span> : <span class="stringliteral">"false"</span>));
<a name="l00048"></a>00048       <span class="keywordflow">return</span> result;
<a name="l00049"></a>00049     }
<a name="l00050"></a>00050     <span class="keywordflow">case</span> anynick_mt:
<a name="l00051"></a>00051       <span class="keywordflow">return</span> len &gt; 0 &amp;&amp; !<a class="code" href="is__channel_8h.html#9211aa8dc88461be45ad52d918f5782e" title="Returns true if name is a channel name.">is_channel</a>(start);
<a name="l00052"></a>00052     <span class="keywordflow">case</span> mynick_mt:
<a name="l00053"></a>00053     {
<a name="l00054"></a>00054       Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#053297a768663dfe29f345bc88d70b3e" title="This debug channel is used for matcher tracking.">dc::matcher</a>|continued_cf, <span class="stringliteral">"mynick_mt: server_in_nick() = \""</span> &lt;&lt;
<a name="l00055"></a>00055           server_session.nicks().in_nick() &lt;&lt; <span class="stringliteral">"\"; input = \""</span> &lt;&lt; buf2str(start, len) &lt;&lt; <span class="stringliteral">"\", "</span>);
<a name="l00056"></a>00056       <span class="keywordtype">bool</span> result = server_session.nicks().in_nick().compare(0, std::string::npos, start, len) == 0;
<a name="l00057"></a>00057       Dout(dc::finish, <span class="stringliteral">"returning "</span> &lt;&lt; (result ? <span class="stringliteral">"true"</span> : <span class="stringliteral">"false"</span>));
<a name="l00058"></a>00058       <span class="keywordflow">return</span> result;
<a name="l00059"></a>00059     }
<a name="l00060"></a>00060     <span class="keywordflow">case</span> anychannel_mt:
<a name="l00061"></a>00061       <span class="keywordflow">return</span> len &gt; 0 &amp;&amp; <a class="code" href="is__channel_8h.html#9211aa8dc88461be45ad52d918f5782e" title="Returns true if name is a channel name.">is_channel</a>(start);
<a name="l00062"></a>00062     <span class="keywordflow">case</span> anyglobalchannel_mt:
<a name="l00063"></a>00063       <span class="keywordflow">return</span> len &gt; 0 &amp;&amp; *start == <span class="charliteral">'#'</span>;
<a name="l00064"></a>00064     <span class="keywordflow">case</span> anylocalchannel_mt:
<a name="l00065"></a>00065       <span class="keywordflow">return</span> len &gt; 0 &amp;&amp; *start == <span class="charliteral">'&amp;'</span>;
<a name="l00066"></a>00066   }
<a name="l00067"></a>00067   <span class="comment">// Never reached.</span>
<a name="l00068"></a>00068   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00069"></a>00069 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="efe7fb9e674e50af1dc62ff676249424"></a><!-- doxytag: member="Matcher_noarg::sort_value" ref="efe7fb9e674e50af1dc62ff676249424" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Matcher_noarg::sort_value           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Implementation of pure virtual function <a class="el" href="classMatcher.html#ac3e419a2737bddc691d68e34728d397" title="Returns an indication of the match algorithm speed (smaller is faster).">Matcher::sort_value()</a>. 
<p>

<p>Implements <a class="el" href="classMatcher.html#ac3e419a2737bddc691d68e34728d397">Matcher</a>.</p>

<p>Definition at line <a class="el" href="Matcher_8h-source.html#l00130">130</a> of file <a class="el" href="Matcher_8h-source.html">Matcher.h</a>.</p>

<p>References <a class="el" href="Matcher_8h-source.html#l00112">M_mt</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00130"></a>00130 { <span class="keywordflow">return</span> <a class="code" href="classMatcher__noarg.html#11c61eedcb0b644f1d2611ff7a7bcb8f" title="The match type.">M_mt</a>; }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="11c61eedcb0b644f1d2611ff7a7bcb8f"></a><!-- doxytag: member="Matcher_noarg::M_mt" ref="11c61eedcb0b644f1d2611ff7a7bcb8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Matcher_8h.html#90f3670ed6ab047285d10701e29dbafd">match0_type</a> <a class="el" href="classMatcher__noarg.html#11c61eedcb0b644f1d2611ff7a7bcb8f">Matcher_noarg::M_mt</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The match type. 
<p>

<p>Definition at line <a class="el" href="Matcher_8h-source.html#l00112">112</a> of file <a class="el" href="Matcher_8h-source.html">Matcher.h</a>.</p>

<p>Referenced by <a class="el" href="Matcher_8cc-source.html#l00027">match_impl()</a>, and <a class="el" href="Matcher_8h-source.html#l00130">sort_value()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Matcher_8h-source.html">Matcher.h</a><li><a class="el" href="Matcher_8cc-source.html">Matcher.cc</a></ul>
</div>
<hr>

<TABLE WIDTH=100% BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TH ALIGN=left BGCOLOR="#e8feff"><ADDRESS>Copyright &copy; 2005-2007 Carlo Wood.&nbsp; All rights reserved.</ADDRESS></TH>
</TR>
</TABLE>

</DIV>
</BODY>
</HTML>

