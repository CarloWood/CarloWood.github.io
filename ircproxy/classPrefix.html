<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML LANG="en-us">
 
<HEAD>
<META name="Author" content="Carlo Wood">
<META name="description" content="IRC proxy">
<META name="keywords" content="IRC, proxy, bnc, security, protection">
<META http-equiv="content-type" content="text/html; charset=iso-8859-1">
<TITLE>ircproxy documentation</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="main.css" REL="stylesheet" TYPE="text/css">
</HEAD>

<BODY>

<TABLE class="header" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TD WIDTH=120><IMG SRC="images/ircproxy.png" BORDER=0></TD>
<TD VALIGN=center ALIGN=center BGCOLOR="#0A0607"><FONT size=+4 color="#ffffff"><B>&nbsp;ircproxy</B>&nbsp;</FONT>
<FONT size=+3 color="#ffffff">The&nbsp;Ultimate&nbsp;Cyborg</FONT></TD>
</TR>
</TABLE>

<DIV class="normal">
<hr>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Prefix Class Reference</h1><!-- doxytag: class="Prefix" --><code>#include &lt;<a class="el" href="Prefix_8h-source.html">Prefix.h</a>&gt;</code>
<p>

<p>
<a href="classPrefix-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A class representing a message prefix. 
<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00029">29</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#711bdf7b557c0f0cee2e491ff7f3e831">Prefix</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The prefix, if it's a server (or any fixed string).  <a href="#711bdf7b557c0f0cee2e491ff7f3e831"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#fb60bfa24c993d78dbbfc878a4a809bc">Prefix</a> (<a class="el" href="classClientMessageIn.html">ClientMessageIn</a> const &amp;msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#fb60bfa24c993d78dbbfc878a4a809bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#1fdbd503a44a5f7cc7559f53efac4d6f">Prefix</a> (<a class="el" href="classServerMessageIn.html">ServerMessageIn</a> const &amp;msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#1fdbd503a44a5f7cc7559f53efac4d6f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#490ab9139e9c44dc88902150ee577f08">Prefix</a> (<a class="el" href="classServerSession.html">ServerSession</a> &amp;server_session, std::string const &amp;prefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#490ab9139e9c44dc88902150ee577f08"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#f831033c6657da30bfa80be05c453499">Prefix</a> (<a class="el" href="classClientSession.html">ClientSession</a> &amp;client_session, std::string const &amp;prefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#f831033c6657da30bfa80be05c453499"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#62c03d9ebc4811dbb16d4ff0d4776e41">Prefix</a> (boost::shared_ptr&lt; <a class="el" href="classNick.html">Nick</a> &gt; const &amp;nick)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#62c03d9ebc4811dbb16d4ff0d4776e41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#65d842ea1338e3a0d12aa24b51458bb0">Prefix</a> (std::string const &amp;fixed_prefix_str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#65d842ea1338e3a0d12aa24b51458bb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#def26cf4d3702b04725bb939ec930dee">Prefix</a> (<a class="el" href="classPrefix.html">Prefix</a> const &amp;prefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#def26cf4d3702b04725bb939ec930dee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#0e2836adf40ead9bf5b8e24a7f84287c">~Prefix</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#0e2836adf40ead9bf5b8e24a7f84287c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#4f2c29f18236a188c6aaa0c0bf774464">out_prefix</a> (<a class="el" href="classClientSession.html">ClientSession</a> const &amp;client_session, bool allow_uninitialized=false) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the clientside prefix.  <a href="#4f2c29f18236a188c6aaa0c0bf774464"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#d8948d4e23e945d1aafd9bc3c65a436f">out_prefix</a> (<a class="el" href="classServerSession.html">ServerSession</a> const &amp;server_session, bool allow_uninitialized=false) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the serverside prefix.  <a href="#d8948d4e23e945d1aafd9bc3c65a436f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#e4592731ad77ba6f23328a322dfd8645">empty</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return true if there is no prefix.  <a href="#e4592731ad77ba6f23328a322dfd8645"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="classNick.html">Nick</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#bda8482a5b694d77329f8e11a6267eb4">get_nick</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return shared pointer to underlying nick.  <a href="#bda8482a5b694d77329f8e11a6267eb4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="classNick.html">Nick</a> const  &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#a10d91dccd92b67aec6494ed9d1a3197">get_nick</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return shared pointer to underlying nick constant.  <a href="#a10d91dccd92b67aec6494ed9d1a3197"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrefix.html#4b67148d27160c281170cf8b499aa941">M_server_name</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The underlying <a class="el" href="classNick.html" title="A nick name.">Nick</a>, if it's a user.  <a href="#4b67148d27160c281170cf8b499aa941"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="711bdf7b557c0f0cee2e491ff7f3e831"></a><!-- doxytag: member="Prefix::Prefix" ref="711bdf7b557c0f0cee2e491ff7f3e831" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The prefix, if it's a server (or any fixed string). 
<p>
Default constructor. 
<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00035">35</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>References <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00035"></a>00035 { Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Constructing empty Prefix."</span>); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fb60bfa24c993d78dbbfc878a4a809bc"></a><!-- doxytag: member="Prefix::Prefix" ref="fb60bfa24c993d78dbbfc878a4a809bc" args="(ClientMessageIn const &amp;msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classClientMessageIn.html">ClientMessageIn</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8cc-source.html#l00062">62</a> of file <a class="el" href="Prefix_8cc-source.html">Prefix.cc</a>.</p>

<p>References <a class="el" href="MessageIn_8h-source.html#l00202">ClientMessageIn::client_session()</a>, <a class="el" href="MessageIn_8h-source.html#l00121">MessageIn::has_prefix()</a>, and <a class="el" href="MessageIn_8h-source.html#l00124">MessageIn::prefix_str()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00063"></a>00063 {
<a name="l00064"></a>00064   <span class="keywordflow">if</span> (msg.has_prefix())
<a name="l00065"></a>00065     <a class="code" href="namespacedebug.html#ee52af5fc0d681b4df07b2219e3a8b1a" title="Initialize debugging code from main.">init</a>(msg.client_session(), msg.prefix_str());
<a name="l00066"></a>00066 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1fdbd503a44a5f7cc7559f53efac4d6f"></a><!-- doxytag: member="Prefix::Prefix" ref="1fdbd503a44a5f7cc7559f53efac4d6f" args="(ServerMessageIn const &amp;msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classServerMessageIn.html">ServerMessageIn</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8cc-source.html#l00056">56</a> of file <a class="el" href="Prefix_8cc-source.html">Prefix.cc</a>.</p>

<p>References <a class="el" href="MessageIn_8h-source.html#l00121">MessageIn::has_prefix()</a>, <a class="el" href="MessageIn_8h-source.html#l00124">MessageIn::prefix_str()</a>, and <a class="el" href="MessageIn_8h-source.html#l00234">ServerMessageIn::server_session()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00057"></a>00057 {
<a name="l00058"></a>00058   <span class="keywordflow">if</span> (msg.has_prefix())
<a name="l00059"></a>00059     <a class="code" href="namespacedebug.html#ee52af5fc0d681b4df07b2219e3a8b1a" title="Initialize debugging code from main.">init</a>(msg.server_session(), msg.prefix_str());
<a name="l00060"></a>00060 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="490ab9139e9c44dc88902150ee577f08"></a><!-- doxytag: member="Prefix::Prefix" ref="490ab9139e9c44dc88902150ee577f08" args="(ServerSession &amp;server_session, std::string const &amp;prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classServerSession.html">ServerSession</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>server_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00041">41</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00041"></a>00041 { <a class="code" href="namespacedebug.html#ee52af5fc0d681b4df07b2219e3a8b1a" title="Initialize debugging code from main.">init</a>(server_session, prefix); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f831033c6657da30bfa80be05c453499"></a><!-- doxytag: member="Prefix::Prefix" ref="f831033c6657da30bfa80be05c453499" args="(ClientSession &amp;client_session, std::string const &amp;prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classClientSession.html">ClientSession</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>client_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>prefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00043">43</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00043"></a>00043 { <a class="code" href="namespacedebug.html#ee52af5fc0d681b4df07b2219e3a8b1a" title="Initialize debugging code from main.">init</a>(client_session, prefix); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="62c03d9ebc4811dbb16d4ff0d4776e41"></a><!-- doxytag: member="Prefix::Prefix" ref="62c03d9ebc4811dbb16d4ff0d4776e41" args="(boost::shared_ptr&lt; Nick &gt; const &amp;nick)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="classNick.html">Nick</a> &gt; const &amp;&nbsp;</td>
          <td class="paramname"> <em>nick</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00045">45</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>References <a class="el" href="debug_8h-source.html#l00062">ASSERT</a>, and <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00045"></a>00045 : M_nick(nick) { <a class="code" href="debug_8h.html#ca68c0d4ac8df0838e209fb5300f7be3" title="Assert if debugging is turned on.">ASSERT</a>(nick.get()); Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Constructing Prefix from "</span> &lt;&lt; nick); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="65d842ea1338e3a0d12aa24b51458bb0"></a><!-- doxytag: member="Prefix::Prefix" ref="65d842ea1338e3a0d12aa24b51458bb0" args="(std::string const &amp;fixed_prefix_str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>fixed_prefix_str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00047">47</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>References <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00047"></a>00047 : <a class="code" href="classPrefix.html#4b67148d27160c281170cf8b499aa941" title="The underlying Nick, if it&amp;#39;s a user.">M_server_name</a>(fixed_prefix_str) { Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Constructing Prefix from fixed string \""</span> &lt;&lt; fixed_prefix_str &lt;&lt; <span class="stringliteral">"\"."</span>); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="def26cf4d3702b04725bb939ec930dee"></a><!-- doxytag: member="Prefix::Prefix" ref="def26cf4d3702b04725bb939ec930dee" args="(Prefix const &amp;prefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::Prefix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPrefix.html">Prefix</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>prefix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00049">49</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>References <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00049"></a>00049 : M_nick(prefix.M_nick), <a class="code" href="classPrefix.html#4b67148d27160c281170cf8b499aa941" title="The underlying Nick, if it&amp;#39;s a user.">M_server_name</a>(prefix.M_server_name) { Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Copy-constructing Prefix from "</span> &lt;&lt; prefix); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0e2836adf40ead9bf5b8e24a7f84287c"></a><!-- doxytag: member="Prefix::~Prefix" ref="0e2836adf40ead9bf5b8e24a7f84287c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Prefix::~Prefix           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00051">51</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>References <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00051"></a>00051 { Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Destructing Prefix "</span> &lt;&lt; *<span class="keyword">this</span>); }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="4f2c29f18236a188c6aaa0c0bf774464"></a><!-- doxytag: member="Prefix::out_prefix" ref="4f2c29f18236a188c6aaa0c0bf774464" args="(ClientSession const &amp;client_session, bool allow_uninitialized=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Prefix::out_prefix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classClientSession.html">ClientSession</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>client_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allow_uninitialized</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the clientside prefix. 
<p>

<p>Definition at line <a class="el" href="Prefix_8cc-source.html#l00097">97</a> of file <a class="el" href="Prefix_8cc-source.html">Prefix.cc</a>.</p>

<p>References <a class="el" href="Nick_8h-source.html#l00037">hostname_bit</a>, <a class="el" href="Prefix_8h-source.html#l00032">M_server_name</a>, and <a class="el" href="Nick_8h-source.html#l00036">username_bit</a>.</p>

<p>Referenced by <a class="el" href="Identity_8cc-source.html#l00278">Identity::new_server_message_received()</a>, and <a class="el" href="JustInTime_8h-source.html#l00125">JustInTimePrefix::value_impl()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00098"></a>00098 {
<a name="l00099"></a>00099   <span class="keywordflow">if</span> (!<a class="code" href="classPrefix.html#4b67148d27160c281170cf8b499aa941" title="The underlying Nick, if it&amp;#39;s a user.">M_server_name</a>.empty())
<a name="l00100"></a>00100     <span class="keywordflow">return</span> <a class="code" href="classPrefix.html#4b67148d27160c281170cf8b499aa941" title="The underlying Nick, if it&amp;#39;s a user.">M_server_name</a>;
<a name="l00101"></a>00101   <span class="keywordtype">bool</span> username_initialized = (M_nick-&gt;data().initialized() &amp; <a class="code" href="Nick_8h.html#02523fb178e420979a99f1298482c7c1" title="Username bit mask.">username_bit</a>);
<a name="l00102"></a>00102   <span class="keywordtype">bool</span> hostname_initialized = (M_nick-&gt;data().initialized() &amp; <a class="code" href="Nick_8h.html#cd455190db303971df47108ce51cf428" title="Hostname bit mask.">hostname_bit</a>);
<a name="l00103"></a>00103   <span class="keywordflow">if</span> (M_nick-&gt;is_me() &amp;&amp; !(username_initialized &amp;&amp; hostname_initialized))
<a name="l00104"></a>00104     <span class="keywordflow">return</span> M_nick-&gt;out_name(client_session);
<a name="l00105"></a>00105   std::string result = M_nick-&gt;out_name(client_session);
<a name="l00106"></a>00106   <span class="keywordflow">if</span> (!username_initialized &amp;&amp; allow_uninitialized)
<a name="l00107"></a>00107     result += <span class="stringliteral">"!~unknown"</span>;
<a name="l00108"></a>00108   <span class="keywordflow">else</span>
<a name="l00109"></a>00109   {
<a name="l00110"></a>00110     result += <span class="charliteral">'!'</span>;
<a name="l00111"></a>00111     result += M_nick-&gt;data().username();
<a name="l00112"></a>00112   }
<a name="l00113"></a>00113   <span class="keywordflow">if</span> (!hostname_initialized &amp;&amp; allow_uninitialized)
<a name="l00114"></a>00114     result += <span class="stringliteral">"@unknown.ircproxy.net"</span>;
<a name="l00115"></a>00115   <span class="keywordflow">else</span>
<a name="l00116"></a>00116   {
<a name="l00117"></a>00117     result += <span class="charliteral">'@'</span>;
<a name="l00118"></a>00118     result += M_nick-&gt;data().hostname();
<a name="l00119"></a>00119   }
<a name="l00120"></a>00120   <span class="keywordflow">return</span> result;
<a name="l00121"></a>00121 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d8948d4e23e945d1aafd9bc3c65a436f"></a><!-- doxytag: member="Prefix::out_prefix" ref="d8948d4e23e945d1aafd9bc3c65a436f" args="(ServerSession const &amp;server_session, bool allow_uninitialized=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Prefix::out_prefix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classServerSession.html">ServerSession</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>server_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allow_uninitialized</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the serverside prefix. 
<p>

<p>Definition at line <a class="el" href="Prefix_8cc-source.html#l00069">69</a> of file <a class="el" href="Prefix_8cc-source.html">Prefix.cc</a>.</p>

<p>References <a class="el" href="debug_8h-source.html#l00062">ASSERT</a>, <a class="el" href="Nick_8h-source.html#l00037">hostname_bit</a>, <a class="el" href="Prefix_8h-source.html#l00032">M_server_name</a>, and <a class="el" href="Nick_8h-source.html#l00036">username_bit</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 {
<a name="l00071"></a>00071   <span class="keywordflow">if</span> (!<a class="code" href="classPrefix.html#4b67148d27160c281170cf8b499aa941" title="The underlying Nick, if it&amp;#39;s a user.">M_server_name</a>.empty())
<a name="l00072"></a>00072     <span class="keywordflow">return</span> <a class="code" href="classPrefix.html#4b67148d27160c281170cf8b499aa941" title="The underlying Nick, if it&amp;#39;s a user.">M_server_name</a>;
<a name="l00073"></a>00073   <span class="keywordtype">bool</span> username_initialized = (M_nick-&gt;data().initialized() &amp; <a class="code" href="Nick_8h.html#02523fb178e420979a99f1298482c7c1" title="Username bit mask.">username_bit</a>);
<a name="l00074"></a>00074   <span class="keywordtype">bool</span> hostname_initialized = (M_nick-&gt;data().initialized() &amp; <a class="code" href="Nick_8h.html#cd455190db303971df47108ce51cf428" title="Hostname bit mask.">hostname_bit</a>);
<a name="l00075"></a>00075   <a class="code" href="debug_8h.html#ca68c0d4ac8df0838e209fb5300f7be3" title="Assert if debugging is turned on.">ASSERT</a>(!M_nick-&gt;is_me() || !debug::secondary_connection);
<a name="l00076"></a>00076   <span class="keywordflow">if</span> (M_nick-&gt;is_me() &amp;&amp; !(username_initialized &amp;&amp; hostname_initialized))
<a name="l00077"></a>00077     <span class="keywordflow">return</span> M_nick-&gt;out_name(server_session);
<a name="l00078"></a>00078   std::string result = M_nick-&gt;out_name(server_session);
<a name="l00079"></a>00079   <span class="keywordflow">if</span> (!username_initialized &amp;&amp; allow_uninitialized)
<a name="l00080"></a>00080     result += <span class="stringliteral">"!~unknown"</span>;
<a name="l00081"></a>00081   <span class="keywordflow">else</span>
<a name="l00082"></a>00082   {
<a name="l00083"></a>00083     result += <span class="charliteral">'!'</span>;
<a name="l00084"></a>00084     result += M_nick-&gt;data().username();
<a name="l00085"></a>00085   }
<a name="l00086"></a>00086   <span class="keywordflow">if</span> (!hostname_initialized &amp;&amp; allow_uninitialized)
<a name="l00087"></a>00087     result += <span class="stringliteral">"@unknown.ircproxy.net"</span>;
<a name="l00088"></a>00088   <span class="keywordflow">else</span>
<a name="l00089"></a>00089   {
<a name="l00090"></a>00090     result += <span class="charliteral">'@'</span>;
<a name="l00091"></a>00091     result += M_nick-&gt;data().hostname();
<a name="l00092"></a>00092   }
<a name="l00093"></a>00093   <span class="keywordflow">return</span> result;
<a name="l00094"></a>00094 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e4592731ad77ba6f23328a322dfd8645"></a><!-- doxytag: member="Prefix::empty" ref="e4592731ad77ba6f23328a322dfd8645" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Prefix::empty           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return true if there is no prefix. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00062">62</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>References <a class="el" href="Prefix_8h-source.html#l00032">M_server_name</a>.</p>

<p>Referenced by <a class="el" href="Channel_8cc-source.html#l00031">Channel::new_client_message_received()</a>, and <a class="el" href="debug__ostream__operators_8cc-source.html#l00571">operator&lt;&lt;()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00062"></a>00062 { <span class="keywordflow">return</span> M_nick.get() == NULL &amp;&amp; <a class="code" href="classPrefix.html#4b67148d27160c281170cf8b499aa941" title="The underlying Nick, if it&amp;#39;s a user.">M_server_name</a>.empty(); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="bda8482a5b694d77329f8e11a6267eb4"></a><!-- doxytag: member="Prefix::get_nick" ref="bda8482a5b694d77329f8e11a6267eb4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="classNick.html">Nick</a>&gt; Prefix::get_nick           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return shared pointer to underlying nick. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00065">65</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>Referenced by <a class="el" href="Channel_8cc-source.html#l00031">Channel::new_client_message_received()</a>, <a class="el" href="Identity_8cc-source.html#l00278">Identity::new_server_message_received()</a>, and <a class="el" href="Channel_8cc-source.html#l00082">Channel::new_server_message_received()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00065"></a>00065 { <span class="keywordflow">return</span> M_nick; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a10d91dccd92b67aec6494ed9d1a3197"></a><!-- doxytag: member="Prefix::get_nick" ref="a10d91dccd92b67aec6494ed9d1a3197" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="classNick.html">Nick</a> const&gt; Prefix::get_nick           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return shared pointer to underlying nick constant. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00068">68</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00068"></a>00068 { <span class="keywordflow">return</span> M_nick; }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="4b67148d27160c281170cf8b499aa941"></a><!-- doxytag: member="Prefix::M_server_name" ref="4b67148d27160c281170cf8b499aa941" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classPrefix.html#4b67148d27160c281170cf8b499aa941">Prefix::M_server_name</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The underlying <a class="el" href="classNick.html" title="A nick name.">Nick</a>, if it's a user. 
<p>

<p>Definition at line <a class="el" href="Prefix_8h-source.html#l00032">32</a> of file <a class="el" href="Prefix_8h-source.html">Prefix.h</a>.</p>

<p>Referenced by <a class="el" href="Prefix_8h-source.html#l00062">empty()</a>, and <a class="el" href="Prefix_8cc-source.html#l00069">out_prefix()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Prefix_8h-source.html">Prefix.h</a><li><a class="el" href="Prefix_8cc-source.html">Prefix.cc</a></ul>
</div>
<hr>

<TABLE WIDTH=100% BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TH ALIGN=left BGCOLOR="#e8feff"><ADDRESS>Copyright &copy; 2005-2007 Carlo Wood.&nbsp; All rights reserved.</ADDRESS></TH>
</TR>
</TABLE>

</DIV>
</BODY>
</HTML>

