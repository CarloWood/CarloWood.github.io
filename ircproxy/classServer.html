<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML LANG="en-us">
 
<HEAD>
<META name="Author" content="Carlo Wood">
<META name="description" content="IRC proxy">
<META name="keywords" content="IRC, proxy, bnc, security, protection">
<META http-equiv="content-type" content="text/html; charset=iso-8859-1">
<TITLE>ircproxy documentation</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="main.css" REL="stylesheet" TYPE="text/css">
</HEAD>

<BODY>

<TABLE class="header" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TD WIDTH=120><IMG SRC="images/ircproxy.png" BORDER=0></TD>
<TD VALIGN=center ALIGN=center BGCOLOR="#0A0607"><FONT size=+4 color="#ffffff"><B>&nbsp;ircproxy</B>&nbsp;</FONT>
<FONT size=+3 color="#ffffff">The&nbsp;Ultimate&nbsp;Cyborg</FONT></TD>
</TR>
</TABLE>

<DIV class="normal">
<hr>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Server Class Reference</h1><!-- doxytag: class="Server" --><code>#include &lt;<a class="el" href="Server_8h-source.html">Server.h</a>&gt;</code>
<p>

<p>
<a href="classServer-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
An IRC server. 
<p>
This class represents an IRC server. 
<p>Definition at line <a class="el" href="Server_8h-source.html#l00034">34</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::vector&lt; unsigned <br>
short &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#c0b06efa7753a0831c84391a87dbc5e1">ports_type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type of the list with ports.  <a href="#c0b06efa7753a0831c84391a87dbc5e1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#f5e22d8615336fdaf958094fc02e1c39">Server</a> (<a class="el" href="classNetwork.html">Network</a> &amp;network, std::string const &amp;hostname, unsigned short port, struct in_addr vhost)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a <a class="el" href="classServer.html" title="An IRC server.">Server</a> object with DNS name <em>hostname</em> and default listen port <em>default_port</em>.  <a href="#f5e22d8615336fdaf958094fc02e1c39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#e8df2df494913617b098be2ed7261d3d">Server</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct an uninitialized object for the given network.  <a href="#e8df2df494913617b098be2ed7261d3d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#0b338841dc23b9905b117362d395da0d">Server</a> (<a class="el" href="classServer.html">Server</a> const &amp;server)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy constructor.  <a href="#0b338841dc23b9905b117362d395da0d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#7f16e82ee6e62acef38c093963f40c81">hostname</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The resolvable name of the server that one can connect to (as passed to the constructor).  <a href="#7f16e82ee6e62acef38c093963f40c81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#f878be477a5e92983c577edaf80fc02a">next_port</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the next port we will try to connect to.  <a href="#f878be477a5e92983c577edaf80fc02a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#984a20dd8f62c155e1284a282f661964">set_next_port</a> (unsigned short next_port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the next port to connect to.  <a href="#984a20dd8f62c155e1284a282f661964"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#41f4e78a93f414228a5deced8efdb018">random_port</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns one of the ports of the server that one can connect to.  <a href="#41f4e78a93f414228a5deced8efdb018"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e">port</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the port we last tried to connect to.  <a href="#9d7dc751400eceb6df50befb7be1f64e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct in_addr &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#f2980aabea620b4ba0d9340c9190d2b7">vhost</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a reference to the vhost of this server.  <a href="#f2980aabea620b4ba0d9340c9190d2b7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct in_addr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#665596428ad8136b2defd706b7326f69">vhost</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the vhost that should be used for this server.  <a href="#665596428ad8136b2defd706b7326f69"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classServer.html#c0b06efa7753a0831c84391a87dbc5e1">ports_type</a> const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#65efb5341875925d2d0fe3cb3808c161">ports</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A const reference to the list with known port numbers of this server.  <a href="#65efb5341875925d2d0fe3cb3808c161"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classNetwork.html">Network</a> const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a5b46fc63911bc170778cc3615a1cd15">network</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the corresponding network.  <a href="#a5b46fc63911bc170778cc3615a1cd15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classNetwork.html">Network</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#c5db3a88d9cf4de97f7e4700841ab1e0">network</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the corresponding network.  <a href="#c5db3a88d9cf4de97f7e4700841ab1e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#afae54a917af70efb7f38b4905c0516f">set_network</a> (<a class="el" href="classNetwork.html">Network</a> *network)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the final network. Called from Identity::detected_network.  <a href="#afae54a917af70efb7f38b4905c0516f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classServerVersion.html">ServerVersion</a> const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#61988b3fb4d7c3d758ba5e8ad2fbf503">version</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The server version object.  <a href="#61988b3fb4d7c3d758ba5e8ad2fbf503"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classServerVersion.html">ServerVersion</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#cee310a9dbbebf380f0564440726d871">version</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The server version object.  <a href="#cee310a9dbbebf380f0564440726d871"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#21e6907a1e09e6b8562a573da64c1334">find_port</a> (unsigned short port) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return true if port <em>port</em> is known.  <a href="#21e6907a1e09e6b8562a573da64c1334"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#17eebbb705dddc9faf5789337f4e3f4b">add_port</a> (unsigned short port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add port <em>port</em> (duplicates are ignored). Return true when it was a new port.  <a href="#17eebbb705dddc9faf5789337f4e3f4b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#61a4ecd95a311252caa65e53ff99c98f">delete_port</a> (unsigned short port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete port <em>port</em>. Return true when the port was found.  <a href="#61a4ecd95a311252caa65e53ff99c98f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ee2c799aa891081b249daec365b78ed2">set_port</a> (unsigned short port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make <em>port</em> the port returned by <a class="el" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port()</a>.  <a href="#ee2c799aa891081b249daec365b78ed2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#de5ffdc7bc02434b2942df386a0b5ec1">set_irc_name</a> (std::string const &amp;irc_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the IRC name of this server. Returns true when not set before.  <a href="#de5ffdc7bc02434b2942df386a0b5ec1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#af5c0e7d9196b346a147e51655b7bcf9">get_irc_name</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">IRC name of the server as set with set_irc_name.  <a href="#af5c0e7d9196b346a147e51655b7bcf9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">timeval const &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#32260f1f045bcbafbe6c8bf16ca868e1">last_connection_event</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last we attempted to connect to this server.  <a href="#32260f1f045bcbafbe6c8bf16ca868e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#783109bcfd17252939c2928e1e4c2908">attempting_to_connect</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when a connect attempt to the server is being made.  <a href="#783109bcfd17252939c2928e1e4c2908"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ebe7d5998578035b8f4d4772626cf44f">connection_lost</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when we disconnected from this server.  <a href="#ebe7d5998578035b8f4d4772626cf44f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#21af89ae8ffd6d40fac1d680035639c9">serialize</a> (<a class="el" href="classPersistXML.html">PersistXML</a> &amp;xml)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Serialize object to XML.  <a href="#21af89ae8ffd6d40fac1d680035639c9"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#9d36829098a2ea2a3cf846b7f3f70d95">M_hostname</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The resolvable name of the server, or IP number if there is no hostname available.  <a href="#9d36829098a2ea2a3cf846b7f3f70d95"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#f96de84fa0e0edffdf9136ccb73faa48">M_irc_name</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The IRC name of the server, as received by the proxy during connect.  <a href="#f96de84fa0e0edffdf9136ccb73faa48"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classServer.html#c0b06efa7753a0831c84391a87dbc5e1">ports_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01">M_ports</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Client listen ports that we successfully connected to in the past.  <a href="#eef4dd99f4ec842ff8341eb2d7c24d01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#1164ee722f2090877ea7f2e68bdb4b63">M_default_port</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The last port that was successfully connected to.  <a href="#1164ee722f2090877ea7f2e68bdb4b63"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d">M_next_port</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The next port that we will try to connect to.  <a href="#c6b4846c649fc6e1d21cec5968795c7d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned short&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a36e1abdc551a21b37a6ce5f03dd49d6">M_port</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The port that we try to connect to.  <a href="#a36e1abdc551a21b37a6ce5f03dd49d6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct in_addr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#b2338b3f475db8591fdcf1f9fd06b87c">M_vhost</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Vhost to use to connect to server.  <a href="#b2338b3f475db8591fdcf1f9fd06b87c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classNetwork.html">Network</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#39372fd406f5aea414d524b6a2464665">M_network</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reference to the corresponding network.  <a href="#39372fd406f5aea414d524b6a2464665"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf">M_last_connection_event</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last time we disconnected or tried to connect to this server.  <a href="#d774341f1d874886e08a1b1d2c3069bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classServerVersion.html">ServerVersion</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a466bcb3dbf0936b904084609f5b146a">M_version</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Information about the server version.  <a href="#a466bcb3dbf0936b904084609f5b146a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static timeval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#bb2d52ec4eca38606a773ed6d69d758c">S_last_connection_event_init</a> = { 0, 0 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initial value for M_last_connection_event.  <a href="#bb2d52ec4eca38606a773ed6d69d758c"></a><br></td></tr>
</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="c0b06efa7753a0831c84391a87dbc5e1"></a><!-- doxytag: member="Server::ports_type" ref="c0b06efa7753a0831c84391a87dbc5e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;unsigned short&gt; <a class="el" href="classServer.html#c0b06efa7753a0831c84391a87dbc5e1">Server::ports_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The type of the list with ports. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00036">36</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="f5e22d8615336fdaf958094fc02e1c39"></a><!-- doxytag: member="Server::Server" ref="f5e22d8615336fdaf958094fc02e1c39" args="(Network &amp;network, std::string const &amp;hostname, unsigned short port, struct in_addr vhost)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Server::Server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNetwork.html">Network</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in_addr&nbsp;</td>
          <td class="paramname"> <em>vhost</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct a <a class="el" href="classServer.html" title="An IRC server.">Server</a> object with DNS name <em>hostname</em> and default listen port <em>default_port</em>. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00061">61</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00061"></a>00061                                                                                                  :
<a name="l00062"></a>00062       <a class="code" href="classServer.html#9d36829098a2ea2a3cf846b7f3f70d95" title="The resolvable name of the server, or IP number if there is no hostname available...">M_hostname</a>(<a class="code" href="classServer.html#7f16e82ee6e62acef38c093963f40c81" title="The resolvable name of the server that one can connect to (as passed to the constructor)...">hostname</a>), <a class="code" href="classServer.html#1164ee722f2090877ea7f2e68bdb4b63" title="The last port that was successfully connected to.">M_default_port</a>(<a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>), <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a>(<a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>), <a class="code" href="classServer.html#a36e1abdc551a21b37a6ce5f03dd49d6" title="The port that we try to connect to.">M_port</a>(0), <a class="code" href="classServer.html#b2338b3f475db8591fdcf1f9fd06b87c" title="Vhost to use to connect to server.">M_vhost</a>(<a class="code" href="classServer.html#f2980aabea620b4ba0d9340c9190d2b7" title="Returns a reference to the vhost of this server.">vhost</a>),
<a name="l00063"></a>00063       <a class="code" href="classServer.html#39372fd406f5aea414d524b6a2464665" title="Reference to the corresponding network.">M_network</a>(&amp;network), <a class="code" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf" title="Last time we disconnected or tried to connect to this server.">M_last_connection_event</a>(<a class="code" href="classServer.html#bb2d52ec4eca38606a773ed6d69d758c" title="Initial value for M_last_connection_event.">S_last_connection_event_init</a>)
<a name="l00064"></a>00064       {
<a name="l00065"></a>00065         Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Constructing Server("</span> &lt;&lt; network &lt;&lt; <span class="stringliteral">", \""</span> &lt;&lt; <a class="code" href="classServer.html#7f16e82ee6e62acef38c093963f40c81" title="The resolvable name of the server that one can connect to (as passed to the constructor)...">hostname</a> &lt;&lt; <span class="stringliteral">"\", "</span> &lt;&lt; <a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; <a class="code" href="classServer.html#f2980aabea620b4ba0d9340c9190d2b7" title="Returns a reference to the vhost of this server.">vhost</a> &lt;&lt; <span class="stringliteral">")"</span>);
<a name="l00066"></a>00066       }

</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e8df2df494913617b098be2ed7261d3d"></a><!-- doxytag: member="Server::Server" ref="e8df2df494913617b098be2ed7261d3d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Server::Server           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct an uninitialized object for the given network. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00069">69</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00050">M_vhost</a>, and <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00069"></a>00069                : <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a>(0), <a class="code" href="classServer.html#39372fd406f5aea414d524b6a2464665" title="Reference to the corresponding network.">M_network</a>(NULL)
<a name="l00070"></a>00070       {
<a name="l00071"></a>00071         Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Constructing Server()"</span>);
<a name="l00072"></a>00072         std::memset(&amp;<a class="code" href="classServer.html#b2338b3f475db8591fdcf1f9fd06b87c" title="Vhost to use to connect to server.">M_vhost</a>, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> in_addr));
<a name="l00073"></a>00073       }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0b338841dc23b9905b117362d395da0d"></a><!-- doxytag: member="Server::Server" ref="0b338841dc23b9905b117362d395da0d" args="(Server const &amp;server)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Server::Server           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classServer.html">Server</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>server</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy constructor. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00076">76</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="debug_8cc-source.html#l00045">debug::channels::dc::objects</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00076"></a>00076                                :
<a name="l00077"></a>00077       <a class="code" href="classServer.html#9d36829098a2ea2a3cf846b7f3f70d95" title="The resolvable name of the server, or IP number if there is no hostname available...">M_hostname</a>(server.M_hostname),
<a name="l00078"></a>00078       <a class="code" href="classServer.html#f96de84fa0e0edffdf9136ccb73faa48" title="The IRC name of the server, as received by the proxy during connect.">M_irc_name</a>(server.M_irc_name),
<a name="l00079"></a>00079       <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>(server.M_ports),
<a name="l00080"></a>00080       <a class="code" href="classServer.html#1164ee722f2090877ea7f2e68bdb4b63" title="The last port that was successfully connected to.">M_default_port</a>(server.M_default_port),
<a name="l00081"></a>00081       <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a>(server.M_next_port),
<a name="l00082"></a>00082       <a class="code" href="classServer.html#a36e1abdc551a21b37a6ce5f03dd49d6" title="The port that we try to connect to.">M_port</a>(server.M_port),
<a name="l00083"></a>00083       <a class="code" href="classServer.html#b2338b3f475db8591fdcf1f9fd06b87c" title="Vhost to use to connect to server.">M_vhost</a>(server.M_vhost),
<a name="l00084"></a>00084       <a class="code" href="classServer.html#39372fd406f5aea414d524b6a2464665" title="Reference to the corresponding network.">M_network</a>(server.M_network),
<a name="l00085"></a>00085       <a class="code" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf" title="Last time we disconnected or tried to connect to this server.">M_last_connection_event</a>(server.M_last_connection_event)
<a name="l00086"></a>00086       { Dout(<a class="code" href="namespacedebug_1_1channels_1_1dc.html#4fad4911d56fc2bccbb8ed9041454394" title="This debug channel is used for object construction/destruction tracking.">dc::objects</a>, <span class="stringliteral">"Copy-constructing Server from "</span> &lt;&lt; server); }

</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7f16e82ee6e62acef38c093963f40c81"></a><!-- doxytag: member="Server::hostname" ref="7f16e82ee6e62acef38c093963f40c81" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string const&amp; Server::hostname           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The resolvable name of the server that one can connect to (as passed to the constructor). 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00089">89</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00040">M_hostname</a>.</p>

<p>Referenced by <a class="el" href="debug__ostream__operators_8cc-source.html#l00216">operator&lt;&lt;()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00089"></a>00089 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#9d36829098a2ea2a3cf846b7f3f70d95" title="The resolvable name of the server, or IP number if there is no hostname available...">M_hostname</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f878be477a5e92983c577edaf80fc02a"></a><!-- doxytag: member="Server::next_port" ref="f878be477a5e92983c577edaf80fc02a" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short Server::next_port           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the next port we will try to connect to. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00092">92</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00047">M_next_port</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00092"></a>00092 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="984a20dd8f62c155e1284a282f661964"></a><!-- doxytag: member="Server::set_next_port" ref="984a20dd8f62c155e1284a282f661964" args="(unsigned short next_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::set_next_port           </td>
          <td>(</td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>next_port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the next port to connect to. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00095">95</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00047">M_next_port</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00095"></a>00095 { <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a> = <a class="code" href="classServer.html#f878be477a5e92983c577edaf80fc02a" title="Return the next port we will try to connect to.">next_port</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="41f4e78a93f414228a5deced8efdb018"></a><!-- doxytag: member="Server::random_port" ref="41f4e78a93f414228a5deced8efdb018" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short Server::random_port           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns one of the ports of the server that one can connect to. 
<p>

<p>Definition at line <a class="el" href="Server_8cc-source.html#l00045">45</a> of file <a class="el" href="Server_8cc-source.html">Server.cc</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00046">M_default_port</a>, and <a class="el" href="Server_8h-source.html#l00045">M_ports</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00175">attempting_to_connect()</a>, and <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00046"></a>00046 {
<a name="l00047"></a>00047   <span class="keyword">static</span> uint64_t seed = (uint64_t)timerRequest.get_now().tv_sec &lt;&lt; 32 + timerRequest.get_now().tv_usec;
<a name="l00048"></a>00048   <span class="keyword">static</span> boost::rand48 urng(seed);
<a name="l00049"></a>00049   <span class="keywordflow">if</span> (<a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.empty())
<a name="l00050"></a>00050     <span class="keywordflow">return</span> <a class="code" href="classServer.html#1164ee722f2090877ea7f2e68bdb4b63" title="The last port that was successfully connected to.">M_default_port</a>;
<a name="l00051"></a>00051   boost::uniform_smallint&lt;int&gt; rd(0, <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.size() - 1);
<a name="l00052"></a>00052   <span class="keywordflow">return</span> <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>[rd(urng)];
<a name="l00053"></a>00053 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9d7dc751400eceb6df50befb7be1f64e"></a><!-- doxytag: member="Server::port" ref="9d7dc751400eceb6df50befb7be1f64e" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short Server::port           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the port we last tried to connect to. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00101">101</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00048">M_port</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00101"></a>00101 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#a36e1abdc551a21b37a6ce5f03dd49d6" title="The port that we try to connect to.">M_port</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f2980aabea620b4ba0d9340c9190d2b7"></a><!-- doxytag: member="Server::vhost" ref="f2980aabea620b4ba0d9340c9190d2b7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in_addr&amp; Server::vhost           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a reference to the vhost of this server. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00104">104</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00050">M_vhost</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00104"></a>00104 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#b2338b3f475db8591fdcf1f9fd06b87c" title="Vhost to use to connect to server.">M_vhost</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="665596428ad8136b2defd706b7326f69"></a><!-- doxytag: member="Server::vhost" ref="665596428ad8136b2defd706b7326f69" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in_addr Server::vhost           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the vhost that should be used for this server. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00107">107</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00050">M_vhost</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00107"></a>00107 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#b2338b3f475db8591fdcf1f9fd06b87c" title="Vhost to use to connect to server.">M_vhost</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="65efb5341875925d2d0fe3cb3808c161"></a><!-- doxytag: member="Server::ports" ref="65efb5341875925d2d0fe3cb3808c161" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classServer.html#c0b06efa7753a0831c84391a87dbc5e1">ports_type</a> const&amp; Server::ports           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A const reference to the list with known port numbers of this server. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00110">110</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00045">M_ports</a>.</p>

<p>Referenced by <a class="el" href="debug__ostream__operators_8cc-source.html#l00216">operator&lt;&lt;()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00110"></a>00110 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a5b46fc63911bc170778cc3615a1cd15"></a><!-- doxytag: member="Server::network" ref="a5b46fc63911bc170778cc3615a1cd15" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNetwork.html">Network</a> const&amp; Server::network           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the corresponding network. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00113">113</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00052">M_network</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00113"></a>00113 { <span class="keywordflow">return</span> *<a class="code" href="classServer.html#39372fd406f5aea414d524b6a2464665" title="Reference to the corresponding network.">M_network</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c5db3a88d9cf4de97f7e4700841ab1e0"></a><!-- doxytag: member="Server::network" ref="c5db3a88d9cf4de97f7e4700841ab1e0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNetwork.html">Network</a>&amp; Server::network           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the corresponding network. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00116">116</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00052">M_network</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00116"></a>00116 { <span class="keywordflow">return</span> *<a class="code" href="classServer.html#39372fd406f5aea414d524b6a2464665" title="Reference to the corresponding network.">M_network</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="afae54a917af70efb7f38b4905c0516f"></a><!-- doxytag: member="Server::set_network" ref="afae54a917af70efb7f38b4905c0516f" args="(Network *network)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::set_network           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classNetwork.html">Network</a> *&nbsp;</td>
          <td class="paramname"> <em>network</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the final network. Called from Identity::detected_network. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00119">119</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00052">M_network</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00119"></a>00119 { <a class="code" href="classServer.html#39372fd406f5aea414d524b6a2464665" title="Reference to the corresponding network.">M_network</a> = network; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="61988b3fb4d7c3d758ba5e8ad2fbf503"></a><!-- doxytag: member="Server::version" ref="61988b3fb4d7c3d758ba5e8ad2fbf503" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classServerVersion.html">ServerVersion</a> const&amp; Server::version           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The server version object. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00122">122</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00057">M_version</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00122"></a>00122 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#a466bcb3dbf0936b904084609f5b146a" title="Information about the server version.">M_version</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="cee310a9dbbebf380f0564440726d871"></a><!-- doxytag: member="Server::version" ref="cee310a9dbbebf380f0564440726d871" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classServerVersion.html">ServerVersion</a>&amp; Server::version           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The server version object. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00125">125</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00057">M_version</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00125"></a>00125 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#a466bcb3dbf0936b904084609f5b146a" title="Information about the server version.">M_version</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="21e6907a1e09e6b8562a573da64c1334"></a><!-- doxytag: member="Server::find_port" ref="21e6907a1e09e6b8562a573da64c1334" args="(unsigned short port) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Server::find_port           </td>
          <td>(</td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return true if port <em>port</em> is known. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00128">128</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00045">M_ports</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00135">add_port()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00129"></a>00129   {
<a name="l00130"></a>00130     ports_type::const_iterator iter = std::find(<a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.begin(), <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.end(), <a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>);
<a name="l00131"></a>00131     <span class="keywordflow">return</span> iter != <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.end(); 
<a name="l00132"></a>00132   }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="17eebbb705dddc9faf5789337f4e3f4b"></a><!-- doxytag: member="Server::add_port" ref="17eebbb705dddc9faf5789337f4e3f4b" args="(unsigned short port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Server::add_port           </td>
          <td>(</td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add port <em>port</em> (duplicates are ignored). Return true when it was a new port. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00135">135</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00128">find_port()</a>, and <a class="el" href="Server_8h-source.html#l00045">M_ports</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00136"></a>00136     {
<a name="l00137"></a>00137       <span class="keywordtype">bool</span> new_port = !this-&gt;<a class="code" href="classServer.html#21e6907a1e09e6b8562a573da64c1334" title="Return true if port port is known.">find_port</a>(<a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>);
<a name="l00138"></a>00138       <span class="keywordflow">if</span> (new_port)
<a name="l00139"></a>00139         <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.push_back(<a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>);
<a name="l00140"></a>00140       <span class="keywordflow">return</span> new_port;
<a name="l00141"></a>00141     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="61a4ecd95a311252caa65e53ff99c98f"></a><!-- doxytag: member="Server::delete_port" ref="61a4ecd95a311252caa65e53ff99c98f" args="(unsigned short port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Server::delete_port           </td>
          <td>(</td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete port <em>port</em>. Return true when the port was found. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00144">144</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00045">M_ports</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00154">set_port()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00145"></a>00145     {
<a name="l00146"></a>00146       ports_type::iterator iter = std::find(<a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.begin(), <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.end(), <a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>);
<a name="l00147"></a>00147       <span class="keywordtype">bool</span> found = iter != <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.end();
<a name="l00148"></a>00148       <span class="keywordflow">if</span> (found)
<a name="l00149"></a>00149         <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.erase(iter);
<a name="l00150"></a>00150       <span class="keywordflow">return</span> found;
<a name="l00151"></a>00151     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ee2c799aa891081b249daec365b78ed2"></a><!-- doxytag: member="Server::set_port" ref="ee2c799aa891081b249daec365b78ed2" args="(unsigned short port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::set_port           </td>
          <td>(</td>
          <td class="paramtype">unsigned short&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Make <em>port</em> the port returned by <a class="el" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port()</a>. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00154">154</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00144">delete_port()</a>, and <a class="el" href="Server_8h-source.html#l00045">M_ports</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00155"></a>00155     {
<a name="l00156"></a>00156       <a class="code" href="classServer.html#61a4ecd95a311252caa65e53ff99c98f" title="Delete port port. Return true when the port was found.">delete_port</a>(<a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>);
<a name="l00157"></a>00157       <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.insert(<a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>.begin(), <a class="code" href="classServer.html#9d7dc751400eceb6df50befb7be1f64e" title="Returns the port we last tried to connect to.">port</a>);
<a name="l00158"></a>00158     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="de5ffdc7bc02434b2942df386a0b5ec1"></a><!-- doxytag: member="Server::set_irc_name" ref="de5ffdc7bc02434b2942df386a0b5ec1" args="(std::string const &amp;irc_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Server::set_irc_name           </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&nbsp;</td>
          <td class="paramname"> <em>irc_name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the IRC name of this server. Returns true when not set before. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00161">161</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00043">M_irc_name</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00162"></a>00162     {
<a name="l00163"></a>00163       <span class="keywordtype">bool</span> empty = <a class="code" href="classServer.html#f96de84fa0e0edffdf9136ccb73faa48" title="The IRC name of the server, as received by the proxy during connect.">M_irc_name</a>.empty();
<a name="l00164"></a>00164       <a class="code" href="classServer.html#f96de84fa0e0edffdf9136ccb73faa48" title="The IRC name of the server, as received by the proxy during connect.">M_irc_name</a> = irc_name;
<a name="l00165"></a>00165       <span class="keywordflow">return</span> empty;
<a name="l00166"></a>00166     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="af5c0e7d9196b346a147e51655b7bcf9"></a><!-- doxytag: member="Server::get_irc_name" ref="af5c0e7d9196b346a147e51655b7bcf9" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string const&amp; Server::get_irc_name           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
IRC name of the server as set with set_irc_name. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00169">169</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00043">M_irc_name</a>.</p>

<p>Referenced by <a class="el" href="debug__ostream__operators_8cc-source.html#l00216">operator&lt;&lt;()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00169"></a>00169 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#f96de84fa0e0edffdf9136ccb73faa48" title="The IRC name of the server, as received by the proxy during connect.">M_irc_name</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="32260f1f045bcbafbe6c8bf16ca868e1"></a><!-- doxytag: member="Server::last_connection_event" ref="32260f1f045bcbafbe6c8bf16ca868e1" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timeval const&amp; Server::last_connection_event           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Last we attempted to connect to this server. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00172">172</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00053">M_last_connection_event</a>.</p>

<p>Referenced by <a class="el" href="debug__ostream__operators_8cc-source.html#l00216">operator&lt;&lt;()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00172"></a>00172 { <span class="keywordflow">return</span> <a class="code" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf" title="Last time we disconnected or tried to connect to this server.">M_last_connection_event</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="783109bcfd17252939c2928e1e4c2908"></a><!-- doxytag: member="Server::attempting_to_connect" ref="783109bcfd17252939c2928e1e4c2908" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::attempting_to_connect           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a connect attempt to the server is being made. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00175">175</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00053">M_last_connection_event</a>, <a class="el" href="Server_8h-source.html#l00047">M_next_port</a>, <a class="el" href="Server_8h-source.html#l00048">M_port</a>, and <a class="el" href="Server_8cc-source.html#l00045">random_port()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00176"></a>00176       {
<a name="l00177"></a>00177         <a class="code" href="classServer.html#a36e1abdc551a21b37a6ce5f03dd49d6" title="The port that we try to connect to.">M_port</a> = <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a>;
<a name="l00178"></a>00178         <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a> = <a class="code" href="classServer.html#41f4e78a93f414228a5deced8efdb018" title="Returns one of the ports of the server that one can connect to.">random_port</a>();
<a name="l00179"></a>00179         <a class="code" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf" title="Last time we disconnected or tried to connect to this server.">M_last_connection_event</a> = timerRequest.get_now();
<a name="l00180"></a>00180       }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ebe7d5998578035b8f4d4772626cf44f"></a><!-- doxytag: member="Server::connection_lost" ref="ebe7d5998578035b8f4d4772626cf44f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::connection_lost           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when we disconnected from this server. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00183">183</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>References <a class="el" href="Server_8h-source.html#l00053">M_last_connection_event</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00183"></a>00183 { <a class="code" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf" title="Last time we disconnected or tried to connect to this server.">M_last_connection_event</a> = timerRequest.get_now(); }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="21af89ae8ffd6d40fac1d680035639c9"></a><!-- doxytag: member="Server::serialize" ref="21af89ae8ffd6d40fac1d680035639c9" args="(PersistXML &amp;xml)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Server::serialize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPersistXML.html">PersistXML</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>xml</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Serialize object to XML. 
<p>

<p>Definition at line <a class="el" href="Server_8cc-source.html#l00031">31</a> of file <a class="el" href="Server_8cc-source.html">Server.cc</a>.</p>

<p>References <a class="el" href="PersistXML_8h-source.html#l00101">PersistXML::load</a>, <a class="el" href="Server_8h-source.html#l00046">M_default_port</a>, <a class="el" href="Server_8h-source.html#l00040">M_hostname</a>, <a class="el" href="Server_8h-source.html#l00043">M_irc_name</a>, <a class="el" href="Server_8h-source.html#l00053">M_last_connection_event</a>, <a class="el" href="Server_8h-source.html#l00047">M_next_port</a>, <a class="el" href="Server_8h-source.html#l00045">M_ports</a>, <a class="el" href="Server_8h-source.html#l00057">M_version</a>, <a class="el" href="PersistXML_8h-source.html#l00123">PersistXML::openmode()</a>, <a class="el" href="Server_8cc-source.html#l00045">random_port()</a>, and <a class="el" href="PersistXML_8h-source.html#l00175">PersistXML::serialize()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00032"></a>00032 {
<a name="l00033"></a>00033   xml.<a class="code" href="classPersistXML.html#5612c3e53fee8ffb21a228536fea9595" title="Serialize object using the xml tag &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;.">serialize</a>(<span class="stringliteral">"M_hostname"</span>, <a class="code" href="classServer.html#9d36829098a2ea2a3cf846b7f3f70d95" title="The resolvable name of the server, or IP number if there is no hostname available...">M_hostname</a>);
<a name="l00034"></a>00034   xml.<a class="code" href="classPersistXML.html#5612c3e53fee8ffb21a228536fea9595" title="Serialize object using the xml tag &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;.">serialize</a>(<span class="stringliteral">"M_irc_name"</span>, <a class="code" href="classServer.html#f96de84fa0e0edffdf9136ccb73faa48" title="The IRC name of the server, as received by the proxy during connect.">M_irc_name</a>);
<a name="l00035"></a>00035   xml.<a class="code" href="classPersistXML.html#5612c3e53fee8ffb21a228536fea9595" title="Serialize object using the xml tag &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;.">serialize</a>(<span class="stringliteral">"M_ports"</span>, <a class="code" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01" title="Client listen ports that we successfully connected to in the past.">M_ports</a>);
<a name="l00036"></a>00036   xml.<a class="code" href="classPersistXML.html#5612c3e53fee8ffb21a228536fea9595" title="Serialize object using the xml tag &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;.">serialize</a>(<span class="stringliteral">"M_default_port"</span>, <a class="code" href="classServer.html#1164ee722f2090877ea7f2e68bdb4b63" title="The last port that was successfully connected to.">M_default_port</a>);
<a name="l00037"></a>00037   xml.<a class="code" href="classPersistXML.html#5612c3e53fee8ffb21a228536fea9595" title="Serialize object using the xml tag &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;.">serialize</a>(<span class="stringliteral">"M_last_connection_event.tv_sec"</span>, <a class="code" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf" title="Last time we disconnected or tried to connect to this server.">M_last_connection_event</a>.tv_sec);
<a name="l00038"></a>00038   xml.<a class="code" href="classPersistXML.html#5612c3e53fee8ffb21a228536fea9595" title="Serialize object using the xml tag &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;.">serialize</a>(<span class="stringliteral">"M_last_connection_event.tv_usec"</span>, <a class="code" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf" title="Last time we disconnected or tried to connect to this server.">M_last_connection_event</a>.tv_usec);
<a name="l00039"></a>00039   xml.<a class="code" href="classPersistXML.html#5612c3e53fee8ffb21a228536fea9595" title="Serialize object using the xml tag &amp;lt;label&amp;gt;&amp;lt;/label&amp;gt;.">serialize</a>(<span class="stringliteral">"M_version"</span>, <a class="code" href="classServer.html#a466bcb3dbf0936b904084609f5b146a" title="Information about the server version.">M_version</a>);
<a name="l00040"></a>00040 
<a name="l00041"></a>00041   <span class="keywordflow">if</span> (xml.<a class="code" href="classPersistXML.html#014814a2c9ece11fb570f6e464c15611" title="Return the current state.">openmode</a>() == <a class="code" href="classPersistXML.html#ebe6d1165a2ef09b5cc722f09d145eda312929ba0cd974a84c9edeaad046c922" title="Open for reading objects from the archive.">PersistXML::load</a>)
<a name="l00042"></a>00042     <a class="code" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d" title="The next port that we will try to connect to.">M_next_port</a> = <a class="code" href="classServer.html#41f4e78a93f414228a5deced8efdb018" title="Returns one of the ports of the server that one can connect to.">random_port</a>();
<a name="l00043"></a>00043 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="9d36829098a2ea2a3cf846b7f3f70d95"></a><!-- doxytag: member="Server::M_hostname" ref="9d36829098a2ea2a3cf846b7f3f70d95" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classServer.html#9d36829098a2ea2a3cf846b7f3f70d95">Server::M_hostname</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The resolvable name of the server, or IP number if there is no hostname available. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00040">40</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00089">hostname()</a>, and <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f96de84fa0e0edffdf9136ccb73faa48"></a><!-- doxytag: member="Server::M_irc_name" ref="f96de84fa0e0edffdf9136ccb73faa48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classServer.html#f96de84fa0e0edffdf9136ccb73faa48">Server::M_irc_name</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The IRC name of the server, as received by the proxy during connect. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00043">43</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00169">get_irc_name()</a>, <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>, and <a class="el" href="Server_8h-source.html#l00161">set_irc_name()</a>.</p>

</div>
</div><p>
<a class="anchor" name="eef4dd99f4ec842ff8341eb2d7c24d01"></a><!-- doxytag: member="Server::M_ports" ref="eef4dd99f4ec842ff8341eb2d7c24d01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classServer.html#c0b06efa7753a0831c84391a87dbc5e1">ports_type</a> <a class="el" href="classServer.html#eef4dd99f4ec842ff8341eb2d7c24d01">Server::M_ports</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Client listen ports that we successfully connected to in the past. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00045">45</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00135">add_port()</a>, <a class="el" href="Server_8h-source.html#l00144">delete_port()</a>, <a class="el" href="Server_8h-source.html#l00128">find_port()</a>, <a class="el" href="Server_8h-source.html#l00110">ports()</a>, <a class="el" href="Server_8cc-source.html#l00045">random_port()</a>, <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>, and <a class="el" href="Server_8h-source.html#l00154">set_port()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1164ee722f2090877ea7f2e68bdb4b63"></a><!-- doxytag: member="Server::M_default_port" ref="1164ee722f2090877ea7f2e68bdb4b63" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short <a class="el" href="classServer.html#1164ee722f2090877ea7f2e68bdb4b63">Server::M_default_port</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The last port that was successfully connected to. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00046">46</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8cc-source.html#l00045">random_port()</a>, and <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c6b4846c649fc6e1d21cec5968795c7d"></a><!-- doxytag: member="Server::M_next_port" ref="c6b4846c649fc6e1d21cec5968795c7d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short <a class="el" href="classServer.html#c6b4846c649fc6e1d21cec5968795c7d">Server::M_next_port</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The next port that we will try to connect to. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00047">47</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00175">attempting_to_connect()</a>, <a class="el" href="Server_8h-source.html#l00092">next_port()</a>, <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>, and <a class="el" href="Server_8h-source.html#l00095">set_next_port()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a36e1abdc551a21b37a6ce5f03dd49d6"></a><!-- doxytag: member="Server::M_port" ref="a36e1abdc551a21b37a6ce5f03dd49d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short <a class="el" href="classServer.html#a36e1abdc551a21b37a6ce5f03dd49d6">Server::M_port</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The port that we try to connect to. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00048">48</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00175">attempting_to_connect()</a>, and <a class="el" href="Server_8h-source.html#l00101">port()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b2338b3f475db8591fdcf1f9fd06b87c"></a><!-- doxytag: member="Server::M_vhost" ref="b2338b3f475db8591fdcf1f9fd06b87c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct in_addr <a class="el" href="classServer.html#b2338b3f475db8591fdcf1f9fd06b87c">Server::M_vhost</a><code> [read, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Vhost to use to connect to server. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00050">50</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00069">Server()</a>, and <a class="el" href="Server_8h-source.html#l00104">vhost()</a>.</p>

</div>
</div><p>
<a class="anchor" name="39372fd406f5aea414d524b6a2464665"></a><!-- doxytag: member="Server::M_network" ref="39372fd406f5aea414d524b6a2464665" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNetwork.html">Network</a>* <a class="el" href="classServer.html#39372fd406f5aea414d524b6a2464665">Server::M_network</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reference to the corresponding network. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00052">52</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00113">network()</a>, and <a class="el" href="Server_8h-source.html#l00119">set_network()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d774341f1d874886e08a1b1d2c3069bf"></a><!-- doxytag: member="Server::M_last_connection_event" ref="d774341f1d874886e08a1b1d2c3069bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timeval <a class="el" href="classServer.html#d774341f1d874886e08a1b1d2c3069bf">Server::M_last_connection_event</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Last time we disconnected or tried to connect to this server. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00053">53</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8h-source.html#l00175">attempting_to_connect()</a>, <a class="el" href="Server_8h-source.html#l00183">connection_lost()</a>, <a class="el" href="Server_8h-source.html#l00172">last_connection_event()</a>, and <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bb2d52ec4eca38606a773ed6d69d758c"></a><!-- doxytag: member="Server::S_last_connection_event_init" ref="bb2d52ec4eca38606a773ed6d69d758c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">timeval <a class="el" href="classServer.html#bb2d52ec4eca38606a773ed6d69d758c">Server::S_last_connection_event_init</a> = { 0, 0 }<code> [static, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initial value for M_last_connection_event. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00055">55</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a466bcb3dbf0936b904084609f5b146a"></a><!-- doxytag: member="Server::M_version" ref="a466bcb3dbf0936b904084609f5b146a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classServerVersion.html">ServerVersion</a> <a class="el" href="classServer.html#a466bcb3dbf0936b904084609f5b146a">Server::M_version</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Information about the server version. 
<p>

<p>Definition at line <a class="el" href="Server_8h-source.html#l00057">57</a> of file <a class="el" href="Server_8h-source.html">Server.h</a>.</p>

<p>Referenced by <a class="el" href="Server_8cc-source.html#l00031">serialize()</a>, and <a class="el" href="Server_8h-source.html#l00122">version()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Server_8h-source.html">Server.h</a><li><a class="el" href="Server_8cc-source.html">Server.cc</a></ul>
</div>
<hr>

<TABLE WIDTH=100% BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TH ALIGN=left BGCOLOR="#e8feff"><ADDRESS>Copyright &copy; 2005-2007 Carlo Wood.&nbsp; All rights reserved.</ADDRESS></TH>
</TR>
</TABLE>

</DIV>
</BODY>
</HTML>

