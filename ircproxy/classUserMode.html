<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML LANG="en-us">
 
<HEAD>
<META name="Author" content="Carlo Wood">
<META name="description" content="IRC proxy">
<META name="keywords" content="IRC, proxy, bnc, security, protection">
<META http-equiv="content-type" content="text/html; charset=iso-8859-1">
<TITLE>ircproxy documentation</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
<LINK HREF="main.css" REL="stylesheet" TYPE="text/css">
</HEAD>

<BODY>

<TABLE class="header" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TD WIDTH=120><IMG SRC="images/ircproxy.png" BORDER=0></TD>
<TD VALIGN=center ALIGN=center BGCOLOR="#0A0607"><FONT size=+4 color="#ffffff"><B>&nbsp;ircproxy</B>&nbsp;</FONT>
<FONT size=+3 color="#ffffff">The&nbsp;Ultimate&nbsp;Cyborg</FONT></TD>
</TR>
</TABLE>

<DIV class="normal">
<hr>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>UserMode Class Reference</h1><!-- doxytag: class="UserMode" --><code>#include &lt;<a class="el" href="UserMode_8h-source.html">UserMode.h</a>&gt;</code>
<p>

<p>
<a href="classUserMode-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A class representing a user mode. 
<p>Definition at line <a class="el" href="UserMode_8h-source.html#l00143">143</a> of file <a class="el" href="UserMode_8h-source.html">UserMode.h</a>.</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserMode.html#a892ef511ef9edc81c554924d95816d6">UserMode</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#a892ef511ef9edc81c554924d95816d6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classWatchedExpression.html">WatchedExpression</a>&lt; <a class="el" href="structUserModeMask.html">UserModeMask</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserMode.html#94da56817722d2d0474d95c285e29def">operator*</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dereference operator. Returns the underlying <a class="el" href="structUserModeMask.html">UserModeMask</a> as <a class="el" href="classWatchedExpression.html" title="An expression consisting of a single Watched object.">WatchedExpression</a>.  <a href="#94da56817722d2d0474d95c285e29def"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserMode.html#174150bea143592e5d35906863f7c1ad">new_server_message_received</a> (<a class="el" href="classServerMessageIn.html">ServerMessageIn</a> const &amp;msg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decode the MODE message <em>msg</em> and store the user mode.  <a href="#174150bea143592e5d35906863f7c1ad"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classWatched.html">Watched</a>&lt; <a class="el" href="structUserModeMask.html">UserModeMask</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUserMode.html#de621d2927c3edb60acfe65031a3552a">M_mask</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Watchable <a class="el" href="structUserModeMask.html">UserModeMask</a>.  <a href="#de621d2927c3edb60acfe65031a3552a"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a892ef511ef9edc81c554924d95816d6"></a><!-- doxytag: member="UserMode::UserMode" ref="a892ef511ef9edc81c554924d95816d6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UserMode::UserMode           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default constructor. 
<p>

<p>Definition at line <a class="el" href="UserMode_8h-source.html#l00149">149</a> of file <a class="el" href="UserMode_8h-source.html">UserMode.h</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00149"></a>00149 : <a class="code" href="classUserMode.html#de621d2927c3edb60acfe65031a3552a" title="Watchable UserModeMask.">M_mask</a>(<span class="stringliteral">"UserMode::M_mask"</span>) { }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="94da56817722d2d0474d95c285e29def"></a><!-- doxytag: member="UserMode::operator*" ref="94da56817722d2d0474d95c285e29def" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWatchedExpression.html">WatchedExpression</a>&lt;<a class="el" href="structUserModeMask.html">UserModeMask</a>&gt; UserMode::operator*           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dereference operator. Returns the underlying <a class="el" href="structUserModeMask.html">UserModeMask</a> as <a class="el" href="classWatchedExpression.html" title="An expression consisting of a single Watched object.">WatchedExpression</a>. 
<p>

<p>Definition at line <a class="el" href="UserMode_8h-source.html#l00153">153</a> of file <a class="el" href="UserMode_8h-source.html">UserMode.h</a>.</p>

<p>References <a class="el" href="UserMode_8h-source.html#l00145">M_mask</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00153"></a>00153 { <span class="keywordflow">return</span> *<a class="code" href="classUserMode.html#de621d2927c3edb60acfe65031a3552a" title="Watchable UserModeMask.">M_mask</a>; }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="174150bea143592e5d35906863f7c1ad"></a><!-- doxytag: member="UserMode::new_server_message_received" ref="174150bea143592e5d35906863f7c1ad" args="(ServerMessageIn const &amp;msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UserMode::new_server_message_received           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classServerMessageIn.html">ServerMessageIn</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Decode the MODE message <em>msg</em> and store the user mode. 
<p>

<p>Definition at line <a class="el" href="UserMode_8cc-source.html#l00025">25</a> of file <a class="el" href="UserMode_8cc-source.html">UserMode.cc</a>.</p>

<p>References <a class="el" href="debug_8h-source.html#l00214">DoutEntering</a>, <a class="el" href="UserMode_8h-source.html#l00145">M_mask</a>, and <a class="el" href="MessageIn_8h-source.html#l00109">MessageIn::param()</a>.</p>

<p>Referenced by <a class="el" href="ServerSession_8cc-source.html#l00032">ServerSession::new_message_received()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00026"></a>00026 {
<a name="l00027"></a>00027   <a class="code" href="debug_8h.html#3dc350a548c074386c3ec0271d16a7a8" title="Debugging macro.">DoutEntering</a>(dc::notice, <span class="stringliteral">"UserMode::new_server_message_received("</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">")"</span>); 
<a name="l00028"></a>00028   std::string mode_string = msg.param(1);
<a name="l00029"></a>00029   <span class="keywordtype">bool</span> <span class="keyword">add</span> = <span class="keyword">true</span>;
<a name="l00030"></a>00030   <span class="keywordflow">for</span> (std::string::iterator iter = mode_string.begin(); iter != mode_string.end(); ++iter)
<a name="l00031"></a>00031   {
<a name="l00032"></a>00032     <span class="keywordflow">if</span> (*iter == <span class="charliteral">'+'</span>)
<a name="l00033"></a>00033       <span class="keyword">add</span> = <span class="keyword">true</span>;
<a name="l00034"></a>00034     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (*iter == <span class="charliteral">'-'</span>)
<a name="l00035"></a>00035       <span class="keyword">add</span> = <span class="keyword">false</span>;
<a name="l00036"></a>00036     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">add</span>)
<a name="l00037"></a>00037       <a class="code" href="classUserMode.html#de621d2927c3edb60acfe65031a3552a" title="Watchable UserModeMask.">M_mask</a> |= *iter; 
<a name="l00038"></a>00038     <span class="keywordflow">else</span>
<a name="l00039"></a>00039       <a class="code" href="classUserMode.html#de621d2927c3edb60acfe65031a3552a" title="Watchable UserModeMask.">M_mask</a> &amp;= ~*iter;
<a name="l00040"></a>00040   }
<a name="l00041"></a>00041   Dout(dc::notice, <span class="stringliteral">"M_mask is now "</span> &lt;&lt; <a class="code" href="classUserMode.html#de621d2927c3edb60acfe65031a3552a" title="Watchable UserModeMask.">M_mask</a>);
<a name="l00042"></a>00042 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="de621d2927c3edb60acfe65031a3552a"></a><!-- doxytag: member="UserMode::M_mask" ref="de621d2927c3edb60acfe65031a3552a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWatched.html">Watched</a>&lt;<a class="el" href="structUserModeMask.html">UserModeMask</a>&gt; <a class="el" href="classUserMode.html#de621d2927c3edb60acfe65031a3552a">UserMode::M_mask</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Watchable <a class="el" href="structUserModeMask.html">UserModeMask</a>. 
<p>

<p>Definition at line <a class="el" href="UserMode_8h-source.html#l00145">145</a> of file <a class="el" href="UserMode_8h-source.html">UserMode.h</a>.</p>

<p>Referenced by <a class="el" href="UserMode_8cc-source.html#l00025">new_server_message_received()</a>, and <a class="el" href="UserMode_8h-source.html#l00153">operator*()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="UserMode_8h-source.html">UserMode.h</a><li><a class="el" href="UserMode_8cc-source.html">UserMode.cc</a></ul>
</div>
<hr>

<TABLE WIDTH=100% BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR>
<TH ALIGN=left BGCOLOR="#e8feff"><ADDRESS>Copyright &copy; 2005-2007 Carlo Wood.&nbsp; All rights reserved.</ADDRESS></TH>
</TR>
</TABLE>

</DIV>
</BODY>
</HTML>

